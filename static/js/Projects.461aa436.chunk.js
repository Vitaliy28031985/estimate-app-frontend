"use strict";(self.webpackChunkestimate_app_frontend=self.webpackChunkestimate_app_frontend||[]).push([[877],{7978:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});var a=s(2791),n=s(1087),i=s(828),c=s(3602),l=s(9728),r=s(7113),o=s(9085);s(5462);const d="AddProject_container__aitOZ",j="AddProject_closeButton__kHXh-",u="AddProject_label__+XmHS",h="AddProject_input__sSFNV",_="AddProject_button__jHsN2";var x=s(3329);const m=function(e){let{isShowModal:t}=e;const[s,n]=(0,a.useState)(""),[c,l]=(0,a.useState)(""),{data:m}=(0,i.S4)(),[p]=(0,i.Oe)(),N=e=>{const{name:t,value:s}=e.currentTarget;switch(t){case"title":n(s);break;case"description":l(s);break;default:return}};return(0,x.jsxs)("div",{className:d,children:[(0,x.jsx)(o.Ix,{draggable:!0}),(0,x.jsx)("button",{className:j,type:"button",onClick:t,children:(0,x.jsx)(r.Z,{width:"24",height:"24"})}),(0,x.jsxs)("form",{action:"",onSubmit:async e=>{if(e.preventDefault(),""!==s&&""!==c){if(m.find((e=>e.title===s)))return(0,o.Am)("\u0422\u0430\u043a\u0435 \u043d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f \u0440\u043e\u0431\u043e\u0442\u0438 \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454"),n(""),void l("");try{p({title:s,description:c})}catch(a){alert("User with the title: ".concat(s," does not exist!"),a)}n(""),l(""),t()}else(0,o.Am)("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f")},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:u,children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,x.jsx)("input",{type:"text",name:"title",className:h,onChange:N,value:s})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:u,children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043e\u0431'\u0454\u043a\u0442\u0443"}),(0,x.jsx)("input",{type:"text",name:"description",className:h,onChange:N,value:c})]}),(0,x.jsx)("button",{className:_,children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u0448\u0442\u043e\u0440\u0438\u0441"})]})]})},p="UpdateProject_container__UfNXt",N="UpdateProject_closeButton__vuxTh",v="UpdateProject_label__1pmpV",b="UpdateProject_input__Qxt6m",P="UpdateProject_button__M9H3i";const w=function(e){let{isShowModal:t,getDataProject:s}=e;const[n,c]=(0,a.useState)(s.nawTitle),[l,d]=(0,a.useState)(s.nawDescription),[j]=(0,i.GW)(),u=e=>{const{name:t,value:s}=e.currentTarget;switch(t){case"title":c(s);break;case"description":d(s);break;default:return}};return(0,x.jsxs)("div",{className:p,children:[(0,x.jsx)(o.Ix,{draggable:!0}),(0,x.jsx)("button",{className:N,type:"button",onClick:t,children:(0,x.jsx)(r.Z,{width:"24",height:"24"})}),(0,x.jsxs)("form",{action:"",onSubmit:async e=>{if(e.preventDefault(),""!==n&&""!==l){try{const e={title:n,description:l};await j({id:s.nawId,newData:e})}catch(a){alert("User with the title: ".concat(n," does not exist!"),a)}c(""),d(""),t()}else(0,o.Am)("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f")},children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:v,children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,x.jsx)("input",{type:"text",name:"title",className:b,onChange:u,value:n})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:v,children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043e\u0431'\u0454\u043a\u0442\u0443"}),(0,x.jsx)("input",{type:"text",name:"description",className:b,onChange:u,value:l})]}),(0,x.jsx)("button",{className:P,children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0438 \u043a\u043e\u0448\u0442\u043e\u0440\u0438\u0441"})]})]})};var f=s(4132);const k="ProjectsList_projectContainer__kPumC",S="ProjectsList_projectItem__HgjHs",g="ProjectsList_projectTitle__VjbEi",C="ProjectsList_titleContainer__3iTJ0",L="ProjectsList_projectDescription__9Qxys",y="ProjectsList_projectPrice__TzLIj",D="ProjectsList_projectLink__FT2f0",A="ProjectsList_buttonContainer__VeVks",T="ProjectsList_addButton__ci2Au",U="ProjectsList_buttonDelete__OWmCv",Z="ProjectsList_deleteModalContainer__Ska9q",I="ProjectsList_onDelete__N-uny",H="ProjectsList_noDelete__h1JZq";var M=s(5413);const V=function(){const[e,t]=(0,a.useState)(!1),[s,r]=(0,a.useState)(!1),[d,j]=(0,a.useState)(null),{data:u}=(0,i.S4)(),[h,_]=(0,a.useState)(u),[p]=(0,i.ec)(),[N,v]=(0,a.useState)(!1);let b="",P="",V="";const{data:O}=(0,c.sA)();(0,a.useEffect)((()=>{if(_(u),O){var e;const t=null===O||void 0===O||null===(e=O.user)||void 0===e?void 0:e.role;v("customer"!==t)}}),[u,O,N]);const B=()=>{t((e=>!e))},X=()=>{r((e=>!e))},q=(e,t)=>{_((s=>{const a=s.map((s=>s._id===e?{...s,isDelete:t}:s));return a}))};return(0,x.jsxs)("div",{children:[(0,x.jsx)(o.Ix,{draggable:!0}),(0,x.jsxs)("div",{className:C,children:[(0,x.jsx)("h1",{children:"\u041a\u043e\u0448\u0442\u043e\u0440\u0438\u0441\u0438 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432"}),N&&(0,x.jsx)("button",{onClick:B,className:T,children:(0,x.jsx)(l.Z,{width:"24",height:"24"})})]}),(0,x.jsx)("ul",{className:k,children:h&&h.map((e=>{let{_id:t,title:s,description:a,total:i,isDelete:c=!1}=e;return(0,x.jsxs)("li",{className:S,id:t,children:[N&&(0,x.jsx)("button",{className:U,onClick:()=>(async(e,t,s)=>{b=await e,P=await t,V=await s,await j({nawId:b,nawTitle:P,nawDescription:V}),X()})(t,s,a),children:(0,x.jsx)(M.Z,{width:"20",height:"20"})}),(0,x.jsx)("h2",{className:g,children:s}),(0,x.jsx)("p",{className:L,children:a}),(0,x.jsxs)("p",{className:y,children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430 \u043a\u043e\u0448\u0442\u043e\u0440\u0438\u0441\u0443: ",i," \u0433\u0440\u043d."]}),(0,x.jsxs)("div",{className:A,children:[(0,x.jsx)(n.OL,{className:D,to:"/projects/".concat(t),children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"}),N&&(0,x.jsx)("button",{className:D,onClick:()=>{c=!c,q(t,c)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]}),c&&(0,x.jsxs)("div",{className:Z,children:[(0,x.jsx)("h4",{children:"\u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438: ".concat(s)}),(0,x.jsxs)("ul",{className:A,children:[(0,x.jsx)("li",{children:(0,x.jsx)("button",{className:I,onClick:()=>{c=!c,q(t,c),p(t),(0,o.Am)("\u041a\u043e\u0448\u0442\u043e\u0440\u0438\u0441 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e")},children:"\u0422\u0430\u043a"})}),(0,x.jsx)("li",{children:(0,x.jsx)("button",{className:H,onClick:()=>{c=!c,q(t,c)},children:"\u041d\u0456"})})]})]})]},t)}))}),e&&(0,x.jsx)(f.Z,{children:(0,x.jsx)(m,{isShowModal:B})}),s&&(0,x.jsx)(f.Z,{children:(0,x.jsx)(w,{isShowModal:X,getDataProject:d})})]})};const O=function(){return(0,x.jsx)("div",{children:(0,x.jsx)(V,{})})}}}]);
//# sourceMappingURL=Projects.461aa436.chunk.js.map