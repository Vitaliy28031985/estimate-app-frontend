"use strict";(self.webpackChunkestimate_app_frontend=self.webpackChunkestimate_app_frontend||[]).push([[877],{7978:(e,t,s)=>{s.r(t),s.d(t,{default:()=>V});var a=s(2791),n=s(1087),i=s(828),c=s(3602),r=s(9728),l=s(7113),o=s(9085);s(5462);const d="AddProject_container__aitOZ",j="AddProject_closeButton__kHXh-",u="AddProject_label__+XmHS",h="AddProject_input__sSFNV";var _=s(3329);const x=function(e){let{isShowModal:t}=e;const[s,n]=(0,a.useState)(""),[c,r]=(0,a.useState)(""),{data:x}=(0,i.S4)(),[m]=(0,i.Oe)(),p=e=>{const{name:t,value:s}=e.currentTarget;switch(t){case"title":n(s);break;case"description":r(s);break;default:return}},b=""===s&&""===c;return(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)("button",{className:j,type:"button",onClick:t,children:(0,_.jsx)(l.Z,{width:"24",height:"24"})}),(0,_.jsxs)("form",{action:"",onSubmit:async e=>{if(e.preventDefault(),""!==s&&""!==c){if(x.find((e=>e.title===s)))return o.Am.error("\u041a\u043e\u0448\u0442\u043e\u0440\u0438\u0441 ".concat(s," \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454")),n(""),void r("");try{m({title:s,description:c}),(0,o.Am)("\u041a\u043e\u0448\u0442\u043e\u0440\u0438\u0441 ".concat(s," \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0441\u0442\u0432\u043e\u0440\u0435\u043d\u043e"))}catch(a){o.Am.error("User with the title: ".concat(s," does not exist!"),a)}n(""),r(""),t()}else o.Am.error("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f")},children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:u,children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,_.jsx)("input",{type:"text",name:"title",className:h,onChange:p,value:s})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:u,children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043e\u0431'\u0454\u043a\u0442\u0443"}),(0,_.jsx)("input",{type:"text",name:"description",className:h,onChange:p,value:c})]}),(0,_.jsx)("button",{disabled:b,className:b?"button-disabled":"button",children:"\u0414\u043e\u0434\u0430\u0442\u0438 \u043a\u043e\u0448\u0442\u043e\u0440\u0438\u0441"})]})]})},m="UpdateProject_container__UfNXt",p="UpdateProject_closeButton__vuxTh",b="UpdateProject_label__1pmpV",N="UpdateProject_input__Qxt6m";const v=function(e){let{isShowModal:t,getDataProject:s}=e;const[n,c]=(0,a.useState)(s.nawTitle),[r,d]=(0,a.useState)(s.nawDescription),[j]=(0,i.GW)(),u=e=>{const{name:t,value:s}=e.currentTarget;switch(t){case"title":c(s);break;case"description":d(s);break;default:return}},h=""===n&&""===r;return(0,_.jsxs)("div",{className:m,children:[(0,_.jsx)(o.Ix,{draggable:!0}),(0,_.jsx)("button",{className:p,type:"button",onClick:t,children:(0,_.jsx)(l.Z,{width:"24",height:"24"})}),(0,_.jsxs)("form",{action:"",onSubmit:async e=>{if(e.preventDefault(),""!==n&&""!==r){try{const e={title:n,description:r};await j({id:s.nawId,newData:e})}catch(a){alert("User with the title: ".concat(n," does not exist!"),a)}c(""),d(""),t()}else(0,o.Am)("\u0417\u0430\u043f\u043e\u0432\u043d\u0456\u0442\u044c \u0443\u0441\u0456 \u043f\u043e\u043b\u044f")},children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:b,children:"\u041d\u0430\u0439\u043c\u0435\u043d\u0443\u0432\u0430\u043d\u043d\u044f"}),(0,_.jsx)("input",{type:"text",name:"title",className:N,onChange:u,value:n})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:b,children:"\u0410\u0434\u0440\u0435\u0441\u0430 \u043e\u0431'\u0454\u043a\u0442\u0443"}),(0,_.jsx)("input",{type:"text",name:"description",className:N,onChange:u,value:r})]}),(0,_.jsx)("button",{disabled:h,className:h?"button-disabled":"button",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0438 \u043a\u043e\u0448\u0442\u043e\u0440\u0438\u0441"})]})]})};var w=s(4132);const P="ProjectsList_projectContainer__kPumC",f="ProjectsList_projectItem__HgjHs",k="ProjectsList_projectTitle__VjbEi",S="ProjectsList_titleContainer__3iTJ0",C="ProjectsList_projectDescription__9Qxys",g="ProjectsList_projectPrice__TzLIj",L="ProjectsList_projectLink__FT2f0",y="ProjectsList_buttonContainer__VeVks",D="ProjectsList_addButton__ci2Au",A="ProjectsList_buttonDelete__OWmCv",T="ProjectsList_deleteModalContainer__Ska9q",Z="ProjectsList_onDelete__N-uny",U="ProjectsList_noDelete__h1JZq";var I=s(5413);const M=function(){const[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),[d,j]=(0,a.useState)(null),{data:u}=(0,i.S4)(),[h,m]=(0,a.useState)(u),[p]=(0,i.ec)(),[b,N]=(0,a.useState)(!1);let M="",V="",H="";const{data:O}=(0,c.sA)();(0,a.useEffect)((()=>{if(m(u),O){var e;const t=null===O||void 0===O||null===(e=O.user)||void 0===e?void 0:e.role;N("customer"!==t)}}),[u,O,b]);const B=()=>{t((e=>!e))},X=()=>{l((e=>!e))},q=(e,t)=>{m((s=>{const a=s.map((s=>s._id===e?{...s,isDelete:t}:s));return a}))};return(0,_.jsxs)("div",{children:[(0,_.jsx)(o.Ix,{draggable:!0}),(0,_.jsxs)("div",{className:S,children:[(0,_.jsx)("h1",{children:"\u041a\u043e\u0448\u0442\u043e\u0440\u0438\u0441\u0438 \u043e\u0431'\u0454\u043a\u0442\u0456\u0432"}),b&&(0,_.jsx)("button",{onClick:B,className:D,children:(0,_.jsx)(r.Z,{width:"24",height:"24"})})]}),(0,_.jsx)("ul",{className:P,children:h&&h.map((e=>{let{_id:t,title:s,description:a,total:i,isDelete:c=!1}=e;return(0,_.jsxs)("li",{className:f,id:t,children:[b&&(0,_.jsx)("button",{className:A,onClick:()=>(async(e,t,s)=>{M=await e,V=await t,H=await s,await j({nawId:M,nawTitle:V,nawDescription:H}),X()})(t,s,a),children:(0,_.jsx)(I.Z,{width:"20",height:"20"})}),(0,_.jsx)("h2",{className:k,children:s}),(0,_.jsx)("p",{className:C,children:a}),(0,_.jsxs)("p",{className:g,children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430 \u043a\u043e\u0448\u0442\u043e\u0440\u0438\u0441\u0443: ",i," \u0433\u0440\u043d."]}),(0,_.jsxs)("div",{className:y,children:[(0,_.jsx)(n.OL,{className:L,to:"/projects/".concat(t),children:"\u0414\u0435\u0442\u0430\u043b\u044c\u043d\u0456\u0448\u0435"}),b&&(0,_.jsx)("button",{className:L,onClick:()=>{c=!c,q(t,c)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]}),c&&(0,_.jsxs)("div",{className:T,children:[(0,_.jsx)("h4",{children:"\u0412\u0438 \u0441\u043f\u0440\u0430\u0432\u0434\u0456 \u0431\u0430\u0436\u0430\u0454\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438: ".concat(s)}),(0,_.jsxs)("ul",{className:y,children:[(0,_.jsx)("li",{children:(0,_.jsx)("button",{className:Z,onClick:()=>{c=!c,q(t,c),p(t),(0,o.Am)("\u041a\u043e\u0448\u0442\u043e\u0440\u0438\u0441 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u043e")},children:"\u0422\u0430\u043a"})}),(0,_.jsx)("li",{children:(0,_.jsx)("button",{className:U,onClick:()=>{c=!c,q(t,c)},children:"\u041d\u0456"})})]})]})]},t)}))}),e&&(0,_.jsx)(w.Z,{children:(0,_.jsx)(x,{isShowModal:B})}),s&&(0,_.jsx)(w.Z,{children:(0,_.jsx)(v,{isShowModal:X,getDataProject:d})})]})};const V=function(){return(0,_.jsx)("div",{children:(0,_.jsx)(M,{})})}}}]);
//# sourceMappingURL=Projects.5615dfec.chunk.js.map