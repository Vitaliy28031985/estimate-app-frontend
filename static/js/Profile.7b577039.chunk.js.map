{"version":3,"file":"static/js/Profile.7b577039.chunk.js","mappings":"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","sources":["webpack://estimate-app-frontend/./src/components/Profile/ProfileInfo/ProfileInfo.module.scss?e49f","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://estimate-app-frontend/./src/components/Profile/ProfileProjects/ProfileProjects.module.scss?d7e6","webpack://estimate-app-frontend/./src/components/Allow/Allow.module.scss?a3d9","components/Allow/Allow.jsx","components/Profile/ProfileProjects/ProfileProjects.jsx","webpack://estimate-app-frontend/./src/components/Profile/Profile.module.scss?4008","components/Profile/Profile.jsx","Pages/Profile/Profile.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"infoTitle\":\"ProfileInfo_infoTitle__zD8gP\",\"ifoContainer\":\"ProfileInfo_ifoContainer__eUaP1\",\"profileContainerPhoto\":\"ProfileInfo_profileContainerPhoto__mzDo4\",\"infoText\":\"ProfileInfo_infoText__wG3lf\",\"infoTextMins\":\"ProfileInfo_infoTextMins__SEgO6\"};","\nimport {useCurrentQuery} from \"../../../redux/auth/authApi\";\n\nimport s from \"./ProfileInfo.module.scss\";\n\nfunction ProfileInfo() {\n    const {data} = useCurrentQuery();\n\n    \n\nreturn(\n    <div>\n        <h3 className={s.infoTitle}>Моя інформація:</h3>\n        <div className={s.ifoContainer}>\n            <div className={s.profileContainerPhoto}>\n                <img src=\"https://www.shutterstock.com/image-illustration/avatar-modern-young-guy-working-260nw-2015853839.jpg\" alt=\"\" />\n            </div>\n            <div>\n                <p className={s.infoText}>Ім'я: <span className={s.infoTextMins}>{data?.user?.name}</span></p>\n                <p className={s.infoText}>Email: <span className={s.infoTextMins}>{data?.user?.email}</span></p>\n                <p className={s.infoText}>Номер телефону: <span className={s.infoTextMins}>{data?.user?.phone}</span></p>\n            </div>\n            {/* <button><logout width={\"18\"} height={\"18\"}/></button> */}\n     \n        </div>\n    </div>\n)\n}\n\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"projectsListContainer\":\"ProfileProjects_projectsListContainer__+I4IK\",\"listItem\":\"ProfileProjects_listItem__-kjY1\",\"projectLink\":\"ProfileProjects_projectLink__UwMKd\",\"allowButton\":\"ProfileProjects_allowButton__vYXVZ\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Allow_container__kHES9\",\"closeButton\":\"Allow_closeButton__hGACT\",\"label\":\"Allow_label__beG-e\",\"input\":\"Allow_input__ZCMol\",\"button\":\"Allow_button__puacB\",\"formContainer\":\"Allow_formContainer__q+n9e\",\"form\":\"Allow_form__EDBFb\"};","\nimport React, { useState } from 'react';\nimport Close from '../Icons/Close/Close';\nimport s from './Allow.module.scss';\n\nfunction Allow({ isShowModal, allowFu}) {\n\n  const [emailAllow, setEmailAllow] = useState('');\n  const [emailNotAllow, setEmailNotAllow] = useState('');\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n    switch (name) {\n    case 'emailAllow':\n        setEmailAllow(value);\n        break;\n    case 'emailNotAllow':\n        setEmailNotAllow(value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { name } = e.currentTarget;\nif(name === \"allow\") {\n    allowFu({email: emailAllow}, name)\n    setEmailAllow('');\n}\n\nif(name === \"notAllow\") {\n    allowFu({email: emailNotAllow}, name);\n    setEmailNotAllow('');\n}\n isShowModal(); \n  };\n\n  return (\n    <div className={s.container}>\n      <button className={s.closeButton} type=\"button\" onClick={isShowModal}>\n        <Close width={'24'} height={'24'} />\n      </button>\n<div className={s.formContainer}>\n      <form className={s.form} action=\"\" name='allow' onSubmit={handleSubmit}>\n    \n        <div>\n          <p className={s.label}>Email Якому потрібно надати дозвіл</p>\n          <input\n            type=\"email\"\n            name=\"emailAllow\"\n            className={s.input}\n            onChange={handleChange}\n            value={emailAllow}\n          />\n        </div>\n        <button disabled={emailAllow === \"\"} className={s.button}>Надати дозвіл</button>\n      </form>\n</div>\n<div className={s.formContainer}>\n      <form className={s.form} action=\"\" name='notAllow' onSubmit={handleSubmit}>\n        <div>\n          <p className={s.label}>Email Від якого потрібно забрати дозвіл</p>\n          <input\n            type=\"email\"\n            name=\"emailNotAllow\"\n            className={s.input}\n            onChange={handleChange}\n            value={emailNotAllow}\n          />\n        </div>\n\n        <button disabled={emailNotAllow === \"\"} className={s.button}>Забрати дозвіл</button>\n      </form>\n</div>\n    </div>\n  );\n}\n\nexport default Allow;","import { NavLink} from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport {useGetProjectsQuery} from \"../../../redux/projectSlice/projectSlice\";\nimport {useAddAllowMutation, useDeleteAllowMutation} from \"../.././../redux/auth/authApi\";\nimport {useCurrentQuery} from \"../../../redux/auth/authApi\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Modal from '../../Modal/Modal';\nimport s from \"./ProfileProjects.module.scss\"\nimport Allow from '../../Allow/Allow';\nfunction ProfileProjects() {\n    const { data: userData } = useCurrentQuery(); \n    const [showModal, setShowModal] = useState(false); \n    const [idPro, setIdPro] = useState('');\n    const {data} = useGetProjectsQuery();\n    const [addAllow] = useAddAllowMutation()\n    const [deleteAllow] = useDeleteAllowMutation();\n    const [userRole, setUserRole] = useState(false);\n\n    useEffect(() => {\n        if (userData) {\n          const role = userData?.user?.role;\n          const isUserRole = role !== \"customer\";\n             setUserRole(isUserRole);\n        }   \n    }, [userData, userRole]); \n\n    const handleToggleModal = async (id) => {\n         \n        setShowModal(showModal => !showModal);\n        await setIdPro(id);\n        \n      }\n\n    const allowSubmit = async (allowObj, name) => {\n        if(name === \"allow\") {\n        await addAllow({id: idPro, newData: allowObj})\n        toast(`Дозвіл до кошторису користувача з email: ${allowObj.email} надано`);\n        }\n        if(name === \"notAllow\") {\n            await deleteAllow({id: idPro, newData: allowObj})\n            toast(`Дозвіл до кошторису користувача з email: ${allowObj.email}  скасовано`);\n        }\n    }\n    return(\n       <div className={s.projectsListContainer}>\n         <ToastContainer draggable={true} />\n        <h4>Список кошторисів</h4>\n        <ul>\n            {data && data.map(({_id, title, description }) => (\n             <li className={s.listItem} key={_id}>\n                <h4>{title}</h4>\n                <p>{description}</p>\n                {userRole && (\n                  <button className={s.allowButton} onClick={() => handleToggleModal(_id)}>Дозвіл</button>  \n                )}\n                \n                <NavLink className={s.projectLink} to={`/projects/${_id}`}>Детальніше</NavLink>\n            </li>   \n            ))}\n            \n        </ul>\n        {showModal && ( <Modal><Allow isShowModal={handleToggleModal} allowFu={allowSubmit}/></Modal>)}\n    </div>  \n    )\n   \n}\nexport default ProfileProjects;","// extracted by mini-css-extract-plugin\nexport default {\"profileTitle\":\"Profile_profileTitle__KsmoG\",\"profileContainer\":\"Profile_profileContainer__nBUTx\"};","import { useDispatch } from 'react-redux';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport ProfileProjects from \"./ProfileProjects/ProfileProjects\";\nimport {authApi} from \"../../redux/auth/authApi\";\nimport s from \"./Profile.module.scss\";\nfunction ProfilePage() {\n    const dispatch = useDispatch();\n    dispatch(authApi.util.resetApiState()); \n\n    return (\n        <div>\n        <h1 className={s.profileTitle}>Кабінет користувача</h1>\n        <div className={s.profileContainer}>\n            <ProfileInfo/>\n           \n            <ProfileProjects />\n         </div>\n        </div>\n    )\n\n}\n\nexport default ProfilePage;","import ProfilePage from \"../../components/Profile/Profile\";\n\nfunction Profile() {\n \n    return (\n      <div>\n    <ProfilePage/>\n    \n     \n     </div>\n    );\n  }\n  \n  export default Profile;"],"names":["_data$user","_data$user2","_data$user3","data","useCurrentQuery","_jsxs","children","_jsx","className","s","src","alt","user","name","email","phone","_ref","isShowModal","allowFu","emailAllow","setEmailAllow","useState","emailNotAllow","setEmailNotAllow","handleChange","e","value","currentTarget","handleSubmit","async","preventDefault","type","onClick","Close","width","height","action","onSubmit","onChange","disabled","userData","showModal","setShowModal","idPro","setIdPro","useGetProjectsQuery","addAllow","useAddAllowMutation","deleteAllow","useDeleteAllowMutation","userRole","setUserRole","useEffect","_userData$user","role","handleToggleModal","id","ToastContainer","draggable","map","_id","title","description","NavLink","to","concat","Modal","Allow","allowObj","newData","toast","useDispatch","dispatch","authApi","util","resetApiState","ProfileInfo","ProfileProjects","ProfilePage"],"sourceRoot":""}